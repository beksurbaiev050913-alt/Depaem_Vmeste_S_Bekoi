<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Beka-Depaet-BezOstanovki</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{
  margin:0;
  background:radial-gradient(circle at top,#2a0040,#000);
  color:#fff;
  min-height:100vh;
}
header{
  text-align:center;
  padding:20px;
  font-size:30px;
  font-weight:900;
  color:#ff4dff;
  text-shadow:0 0 15px #ff4dff;
}
#balance{text-align:center;font-size:20px;margin-bottom:10px}

nav{
  display:flex;
  justify-content:center;
  gap:15px;
  background:#140020;
  padding:10px;
}
nav button{
  border:2px solid #00f7ff;
  background:none;
  color:#fff;
  padding:10px 18px;
  border-radius:25px;
  cursor:pointer;
}
nav button:hover{background:#00f7ff;color:#000}

.section{display:none;padding:20px}
.section.active{display:block}

.cases{
  display:flex;
  gap:30px;
  justify-content:center;
  flex-wrap:wrap;
}
.case{
  width:230px;
  padding:20px;
  border-radius:25px;
  text-align:center;
}
.case .emoji{font-size:48px}
.case button{
  width:100%;
  margin-top:10px;
  padding:10px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  font-weight:bold;
}

.bronze{background:linear-gradient(145deg,#8b5a2b,#c68642)}
.silverCase{background:linear-gradient(145deg,#9aa7b2,#4facfe)}
.gold{background:linear-gradient(145deg,#ffd700,#ff9900);color:#000}
.auto{background:linear-gradient(145deg,#ff512f,#dd2476)}
.japan{background:linear-gradient(145deg,#ffb347,#ffcc33);color:#000}

#roll{
  margin:30px auto;
  width:90%;
  height:140px;
  border:3px solid #fff;
  overflow:hidden;
  position:relative;
  display:none;
  border-radius:20px;
}
#rollLine{
  position:absolute;
  left:50%;
  top:0;
  width:4px;
  height:100%;
  background:red;
  z-index:5;
}
#rollItems{
  display:flex;
  position:absolute;
  height:100%;
}
.rollItem{
  width:140px;
  margin:10px;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  text-align:center;
}
.rollItem span{font-size:34px}

.win{
  outline:4px solid gold;
  box-shadow:0 0 25px gold;
  transform:scale(1.1);
}

.inventory{
  display:flex;
  gap:20px;
  flex-wrap:wrap;
  justify-content:center;
}
.item{
  width:200px;
  padding:15px;
  border-radius:20px;
  text-align:center;
}
.item span{font-size:40px}
.item button{
  width:100%;
  margin-top:8px;
  padding:8px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  font-weight:bold;
}

.blue{background:#3498db}
.epic{background:#9b59b6}
.mythic{background:#e74c3c}
.legend{background:#f1c40f;color:#000}
.ultra{background:#000;color:#ff004c;box-shadow:0 0 20px #ff004c}
</style>
</head>

<body>

<header>Ğ‘ĞµĞºĞ° Ğ´ĞµĞ¿Ğ°ĞµÑ‚ â€” Ğ¸ Ñ‚Ñ‹ Ğ´ĞµĞ¿Ğ°Ğ¹!</header>
<div id="balance">Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: <span id="coins">1800</span> CC</div>

<nav>
  <button onclick="show('cases')">ĞšĞµĞ¹ÑÑ‹</button>
  <button onclick="show('inventory')">ĞœĞ¾Ğ¸ Ğ³ĞµÑ€Ğ¾Ğ¸</button>
</nav>

<div id="cases" class="section active">
  <div class="cases">
    <div class="case bronze"><div class="emoji">ğŸ“¦</div><h3>ĞĞ¾Ğ²Ğ¸Ñ‡Ğ¾Ğº</h3><p>90 CC</p><button onclick="openCase('basic',90)">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ</button></div>
    <div class="case silverCase"><div class="emoji">ğŸ§Š</div><h3>Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹</h3><p>230 CC</p><button onclick="openCase('standard',230)">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ</button></div>
    <div class="case gold"><div class="emoji">ğŸ’</div><h3>Ğ”ÑƒĞ±Ğ°Ğ¹ÑĞºĞ¸Ğ¹</h3><p>499 CC</p><button onclick="openCase('dubai',499)">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ</button></div>
    <div class="case auto"><div class="emoji">ğŸš—</div><h3>ĞĞ²Ñ‚Ğ¾ ĞºĞµĞ¹Ñ</h3><p>299 CC</p><button onclick="openCase('auto',299)">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ</button></div>
    <div class="case japan"><div class="emoji">ğŸ‡¯ğŸ‡µ</div><h3>Japan V1</h3><p>409 CC</p><button onclick="openCase('japan',409)">ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ</button></div>
  </div>

  <div id="roll"><div id="rollLine"></div><div id="rollItems"></div></div>
</div>

<div id="inventory" class="section">
  <div class="inventory" id="inv"></div>
</div>

<script>
let coins = Number(localStorage.getItem("coins_final")) || 1800;
let inventory = JSON.parse(localStorage.getItem("inventory_final")) || [];

const prices={blue:270,epic:370,mythic:550,legend:7000,ultra:15000};

const loot = {
  auto:{
    blue:[["Honda Civic 2003","ğŸš—"],["Toyota Chaser V2","ğŸš™"],["Honda Fit","ğŸš˜"]],
    epic:[["Camry 55","ğŸš•"],["Camry 70","ğŸš–"],["Land Cruiser 200","ğŸš™"]],
    mythic:[["Land Cruiser 570","ğŸš™"],["Mercedes W222","ğŸš˜"]],
    legend:[["Porsche Spyder","ğŸï¸"],["G63 Brabus","ğŸš™"]]
  },
  japan:{
    blue:[["ĞšĞ°Ñ‚Ğ°Ğ½Ğ°","âš”ï¸"],["Ğ¤Ğ°Ğ½Ğ°Ñ€ÑŒ","ğŸ®"]],
    epic:[["Ğ¡ÑƒÑˆĞ¸ Ğ¸Ğ· Ğ»Ğ¾ÑĞ¾ÑÑ","ğŸ£"]],
    mythic:[["ĞœĞ¾Ñ‚Ğ¸","ğŸ¡"]],
    legend:[["Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ ÑĞ°ĞºÑƒÑ€Ğ°","ğŸŒ¸"]],
    ultra:[["Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ°Ñ ĞºĞ°Ñ‚Ğ°Ğ½Ğ° ÑĞ°Ğ¼ÑƒÑ€Ğ°Ñ","ğŸ—¡ï¸"]]
  }
};

function rand(a){return a[Math.floor(Math.random()*a.length)]}

function rollJapan(){
  let r=Math.random();
  if(r<0.5)return"blue";
  if(r<0.77)return"epic";
  if(r<0.92)return"mythic";
  if(r<0.99)return"legend";
  return"ultra";
}
function rollAuto(){
  let r=Math.random();
  if(r<0.55)return"blue";
  if(r<0.8)return"epic";
  if(r<0.94)return"mythic";
  return"legend";
}

function openCase(type,price){
  if(coins<price)return alert("ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ CC");
  coins-=price;save();

  const rollBox=document.getElementById("roll");
  const itemsBox=document.getElementById("rollItems");
  rollBox.style.display="block";
  itemsBox.innerHTML="";
  itemsBox.style.left="0";
  itemsBox.style.transition="none";

  let rarity = type==="japan"?rollJapan():rollAuto();
  let item = rand(loot[type][rarity]);

  for(let i=0;i<20;i++){
    let r = type==="japan"?rollJapan():rollAuto();
    let it = rand(loot[type][r]);
    itemsBox.innerHTML+=`<div class="rollItem ${r}"><span>${it[1]}</span>${it[0]}</div>`;
  }

  itemsBox.innerHTML+=`<div class="rollItem ${rarity} win"><span>${item[1]}</span>${item[0]}</div>`;

  setTimeout(()=>{itemsBox.style.transition="left 3s";itemsBox.style.left="-2400px";},100);

  setTimeout(()=>{
    inventory.push({name:item[0],emoji:item[1],rarity});
    save();
    alert("ğŸ‰ Ğ¢Ñ‹ Ğ²Ñ‹Ğ±Ğ¸Ğ»: "+item[0]);
    rollBox.style.display="none";
  },3200);
}

function save(){
  localStorage.setItem("coins_final",coins);
  localStorage.setItem("inventory_final",JSON.stringify(inventory));
  document.getElementById("coins").innerText=coins;
}

function show(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  renderInv();
}

function renderInv(){
  const inv=document.getElementById("inv");
  inv.innerHTML="";
  inventory.forEach((it,i)=>{
    let d=document.createElement("div");
    d.className="item "+it.rarity;
    d.innerHTML=`<span>${it.emoji}</span><b>${it.name}</b><br>${prices[it.rarity]} CC`;
    let b=document.createElement("button");
    b.innerText="ĞŸÑ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ";
    b.onclick=()=>{coins+=prices[it.rarity];inventory.splice(i,1);save();renderInv();}
    d.appendChild(b);
    inv.appendChild(d);
  });
}

save();
</script>
</body>
</html>
