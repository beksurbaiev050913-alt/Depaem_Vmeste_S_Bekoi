<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Case Opening</title>

<style>
body {
    margin: 0;
    font-family: Arial;
    background: #0f172a;
    color: white;
    text-align: center;
}

nav {
    display: flex;
    justify-content: space-around;
    background: #1e293b;
    padding: 10px;
}

nav button {
    background: none;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

.page { display: none; padding: 20px; }
.active { display: block; }

.case {
    border: 2px solid #334155;
    padding: 15px;
    margin: 10px;
    border-radius: 10px;
}

.open {
    padding: 10px;
    background: #22c55e;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

#roll {
    display: flex;
    overflow: hidden;
    width: 100%;
    border: 2px solid white;
    margin-top: 20px;
    height: 80px;
}

.item {
    min-width: 120px;
    margin: 5px;
    padding: 10px;
    border-radius: 8px;
}

/* –†–µ–¥–∫–æ—Å—Ç–∏ */
.gray { background: gray; }
.green { background: green; }
.blue { background: blue; }
.epic { background: purple; }
.myth { background: red; }
.legend { background: gold; color: black; }

.inventory-item {
    border: 1px solid #475569;
    margin: 5px;
    padding: 10px;
    border-radius: 8px;
}

.sell {
    background: red;
    border: none;
    padding: 5px;
    margin-top: 5px;
    cursor: pointer;
}
</style>

</head>
<body>

<nav>
<button onclick="showPage('cases')">–ö–µ–π—Å—ã</button>
<button onclick="showPage('inventory')">–ú–æ–∏ –≥–µ—Ä–æ–∏</button>
<button onclick="support()">–¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞</button>
</nav>

<div id="cases" class="page active">
<h2>–ö–µ–π—Å—ã</h2>

<div class="case">
<h3>üéÅ –ö–µ–π—Å –ù–æ–≤–∏—á–æ–∫</h3>
<button class="open" onclick="startRoll()">–û—Ç–∫—Ä—ã—Ç—å</button>
</div>

<div id="roll"></div>
<h3 id="result"></h3>

</div>

<div id="inventory" class="page">
<h2>–ú–æ–∏ –≥–µ—Ä–æ–∏</h2>
<div id="items"></div>
</div>

<script>
let inventory = [];

const items = [
{ name:"üçû –•–ª–µ–±", class:"gray", chance:30, price:10 },
{ name:"üçï –ü–∏—Ü—Ü–∞", class:"green", chance:20, price:20 },
{ name:"üé© –®–ª—è–ø–∞", class:"blue", chance:15, price:40 },
{ name:"üß∏ –ú–µ–¥–≤–µ–¥—å", class:"blue", chance:10, price:50 },
{ name:"üéß –ù–∞—É—à–Ω–∏–∫–∏", class:"epic", chance:8, price:100 },
{ name:"üíé –ê–ª–º–∞–∑", class:"epic", chance:6, price:150 },
{ name:"üöÄ –†–∞–∫–µ—Ç–∞", class:"myth", chance:5, price:200 },
{ name:"üëë –ö–æ—Ä–æ–Ω–∞", class:"myth", chance:3, price:400 },
{ name:"üî• –û–≥–Ω–µ–Ω–Ω—ã–π –≥–µ—Ä–æ–π", class:"legend", chance:2, price:600 },
{ name:"üèÜ –ó–æ–ª–æ—Ç–∞—è —á–∞—à–∞", class:"legend", chance:1, price:1000 }
];

function showPage(page) {
document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
document.getElementById(page).classList.add('active');
}

function support() {
window.open("https://t.me/KosmosHardoxxx");
}

function getRandomItem() {
let rand = Math.random() * 100;
let sum = 0;

for (let item of items) {
sum += item.chance;
if (rand <= sum) return item;
}
}

function startRoll() {
let roll = document.getElementById("roll");
roll.innerHTML = "";

let resultItem = getRandomItem();

// —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É
let list = [];
for (let i = 0; i < 30; i++) {
let item = items[Math.floor(Math.random() * items.length)];
list.push(item);
}

// –≤—Å—Ç–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É
list[25] = resultItem;

list.forEach(i => {
let div = document.createElement("div");
div.className = "item " + i.class;
div.innerText = i.name;
roll.appendChild(div);
});

roll.scrollLeft = 0;

let scroll = 0;
let interval = setInterval(() => {
scroll += 20;
roll.scrollLeft = scroll;

if (scroll >= 3000) {
clearInterval(interval);

document.getElementById("result").innerText = "–í—ã–ø–∞–ª–æ: " + resultItem.name;

inventory.push(resultItem);
renderInventory();
}
}, 30);
}

function renderInventory() {
let container = document.getElementById("items");
container.innerHTML = "";

inventory.forEach((item, index) => {
let div = document.createElement("div");
div.className = "inventory-item " + item.class;

div.innerHTML = `
${item.name} (${item.price})
<br>
<button class="sell" onclick="sell(${index})">–ü—Ä–æ–¥–∞—Ç—å</button>
`;

container.appendChild(div);
});
}

function sell(index) {
inventory.splice(index,1);
renderInventory();
}
</script>

</body>
</html>

