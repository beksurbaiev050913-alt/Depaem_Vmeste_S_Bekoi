<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Beka Depaet</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{
  margin:0;
  background:radial-gradient(circle at top,#2a0040,#000);
  color:#fff;
}
header{
  text-align:center;
  padding:20px;
  font-size:32px;
  font-weight:900;
  color:#ff4dff;
  text-shadow:0 0 15px #ff4dff;
}
#stats{text-align:center;margin-bottom:10px;font-size:18px}

nav{
  display:flex;
  justify-content:center;
  gap:15px;
  background:#140020;
  padding:10px;
}
nav button{
  border:2px solid #00f7ff;
  background:none;
  color:#fff;
  padding:10px 18px;
  border-radius:25px;
  cursor:pointer;
}
nav button:hover{background:#00f7ff;color:#000}

.section{display:none;padding:20px}
.section.active{display:block}

.cases{
  display:flex;
  gap:25px;
  justify-content:center;
  flex-wrap:wrap;
}
.case{
  width:220px;
  padding:20px;
  border-radius:25px;
  text-align:center;
}
.case button{
  width:100%;
  margin-top:10px;
  padding:10px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  font-weight:bold;
}

.basic{background:#2ecc71}
.standard{background:#3498db}
.dubai{background:linear-gradient(145deg,#ffd700,#ff9900);color:#000}
.dust{background:#7f8c8d}

#roll{
  margin:30px auto;
  width:90%;
  height:130px;
  border:3px solid #fff;
  overflow:hidden;
  position:relative;
  display:none;
  border-radius:20px;
}
#rollLine{
  position:absolute;
  left:50%;
  top:0;
  width:4px;
  height:100%;
  background:red;
}
#rollItems{
  display:flex;
  position:absolute;
  height:100%;
}
.rollItem{
  width:130px;
  margin:10px;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-weight:bold;
}

.inventory{
  display:flex;
  gap:20px;
  flex-wrap:wrap;
  justify-content:center;
}
.item{
  width:200px;
  padding:15px;
  border-radius:20px;
  text-align:center;
}
.item button{
  width:100%;
  margin-top:6px;
  padding:8px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  font-weight:bold;
}

.blue{background:#2980b9}
.epic{background:#9b59b6}
.mythic{background:#e67e22}
.legend{background:#f1c40f;color:#000}
</style>
</head>

<body>

<header>–ë–µ–∫–∞ –¥–µ–ø–∞–µ—Ç ‚Äî –∏ —Ç—ã –¥–µ–ø–∞–π!</header>
<div id="stats">
–ë–∞–ª–∞–Ω—Å: <span id="coins">2000</span> CC |
–ü—ã–ª—å: <span id="dust">0</span>
</div>

<nav>
<button onclick="show('cases')">–ö–µ–π—Å—ã</button>
<button onclick="show('inventory')">–ú–æ–∏ –≥–µ—Ä–æ–∏</button>
</nav>

<div id="cases" class="section active">
<div class="cases">
  <div class="case basic">
    <h3>–ù–æ–≤–∏—á–æ–∫</h3><p>90 CC</p>
    <button onclick="openCase('basic',90)">–û—Ç–∫—Ä—ã—Ç—å</button>
  </div>

  <div class="case standard">
    <h3>–°—Ç–∞–Ω–¥–∞—Ä—Ç</h3><p>230 CC</p>
    <button onclick="openCase('standard',230)">–û—Ç–∫—Ä—ã—Ç—å</button>
  </div>

  <div class="case dubai">
    <h3>–î—É–±–∞–π</h3><p>499 CC</p>
    <button onclick="openCase('dubai',499)">–û—Ç–∫—Ä—ã—Ç—å</button>
  </div>

  <div class="case dust">
    <h3>–ü—ã–ª—å–Ω—ã–π –∫–µ–π—Å</h3>
    <p>5000 –ø—ã–ª–∏</p>
    <button onclick="openDust(1)">–û—Ç–∫—Ä—ã—Ç—å √ó1</button>
    <button onclick="openDust(10)">–û—Ç–∫—Ä—ã—Ç—å √ó10</button>
  </div>
</div>

<div id="roll">
  <div id="rollLine"></div>
  <div id="rollItems"></div>
</div>
</div>

<div id="inventory" class="section">
<div class="inventory" id="inv"></div>
</div>

<script>
let coins=+localStorage.coins||2000;
let dust=+localStorage.dust||0;
let inv=JSON.parse(localStorage.inv||"[]");

const loot={
basic:[
  {n:"–ú—ã—à–∫–∞",e:"üñ±Ô∏è",r:"blue",p:230,d:230},
  {n:"–®–∞–ø–∫–∞",e:"üé©",r:"epic",p:370,d:370}
],
standard:[
  {n:"–ö—Ä–æ—Å—Å–æ–≤–æ–∫",e:"üëü",r:"epic",p:370,d:370},
  {n:"–ö–Ω–∏–≥–∞",e:"üìò",r:"mythic",p:780,d:780}
],
dubai:[
  {n:"–ß–∞—Å—ã",e:"‚åö",r:"epic",p:370,d:370},
  {n:"–û—Å—Ç—Ä–æ–≤",e:"üèùÔ∏è",r:"mythic",p:780,d:780},
  {n:"–ó–æ–ª–æ—Ç–∞—è –º–µ–¥–∞–ª—å",e:"ü•á",r:"legend",p:11600,d:1300}
]
};

const dustLoot={
legend:[
["–ó–æ–ª–æ—Ç–∞—è —á–∞—à–∞","üèÜ"],
["–ó–æ–ª–æ—Ç–∞—è –º–µ–¥–∞–ª—å","ü•á"],
["–ó–æ–ª–æ—Ç–∞—è –∫–µ–ø–∫–∞ –ë–µ–∫–∏","üß¢"],
["–ó–æ–ª–æ—Ç–æ–π –∫–ª—ã–∫","ü¶∑"],
["–ì–∞–ª—Å—Ç—É–∫ –ë–µ–∫–∏","üëî"]
],
mythic:[
["–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫—Ä–æ—Å—Å–æ–≤–æ–∫","üëü"],
["–ö–Ω–∏–≥–∞ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ","üìï"],
["–®–∞—É—Ä–º–∞","üåØ"],
["–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –ë–∏—à–∫–µ–∫–µ","üè¢"]
]
};

function save(){
localStorage.coins=coins;
localStorage.dust=dust;
localStorage.inv=JSON.stringify(inv);
coinsEl.innerText=coins;
dustEl.innerText=dust;
}

const coinsEl=document.getElementById("coins");
const dustEl=document.getElementById("dust");

function show(id){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
renderInv();
}

function rollDubai(){
let r=Math.random()*100;
if(r<45)return loot.dubai[0];
if(r<80)return loot.dubai[1];
return loot.dubai[2];
}

function openCase(type,price){
if(coins<price)return alert("–ù–µ—Ç CC");
coins-=price; save();

let item;
if(type==="dubai") item=rollDubai();
else item=loot[type][Math.floor(Math.random()*loot[type].length)];

animate(item,()=>{
inv.push(item);
save();
alert("üéâ "+item.e+" "+item.n);
});
}

function animate(item,cb){
const box=document.getElementById("roll");
const items=document.getElementById("rollItems");
items.innerHTML="";
box.style.display="block";
items.style.left="0px";
items.style.transition="none";

for(let i=0;i<20;i++){
items.innerHTML+=`<div class="rollItem ${item.r}">${item.e}<br>${item.n}</div>`;
}

setTimeout(()=>{
items.style.transition="left 2.5s ease-out";
items.style.left="-1600px";
},50);

setTimeout(()=>{
box.style.display="none";
cb();
},2700);
}

function openDust(x){
if(dust<5000*x)return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—ã–ª–∏");
dust-=5000*x;

for(let i=0;i<x;i++){
let pool=Math.random()<0.5?dustLoot.legend:dustLoot.mythic;
let r=Math.random()<0.5?"legend":"mythic";
let it=pool[Math.floor(Math.random()*pool.length)];
inv.push({n:it[0],e:it[1],r,p:r==="legend"?11600:3500,d:r==="legend"?1300:780});
}
save();
alert("üí® –ü—ã–ª—å–Ω—ã–π –∫–µ–π—Å –æ—Ç–∫—Ä—ã—Ç");
}

function renderInv(){
const c=document.getElementById("inv");
c.innerHTML="";
inv.forEach((it,i)=>{
let d=document.createElement("div");
d.className="item "+it.r;
d.innerHTML=`${it.e}<br><b>${it.n}</b><br>${it.p} CC`;
let sell=document.createElement("button");
sell.innerText="–ü—Ä–æ–¥–∞—Ç—å";
sell.onclick=()=>{coins+=it.p;inv.splice(i,1);save();renderInv();};
let dis=document.createElement("button");
dis.innerText="–†–∞—Å–ø—ã–ª–∏—Ç—å";
dis.onclick=()=>{dust+=it.d;inv.splice(i,1);save();renderInv();};
d.appendChild(sell);
d.appendChild(dis);
c.appendChild(d);
});
}

save();
</script>
</body>
</html>
