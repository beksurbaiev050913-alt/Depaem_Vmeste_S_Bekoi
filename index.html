<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Beka-Depaet-BezOstanovki</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,sans-serif;
  background:radial-gradient(circle at top,#2a0040,#000);
  color:#fff;
}
header{
  text-align:center;
  padding:20px;
  font-size:28px;
  font-weight:900;
  color:#ff4dff;
  text-shadow:0 0 15px #ff4dff;
}
header button{
  margin-top:10px;
  padding:8px 16px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  font-weight:bold;
}
#balance{text-align:center;font-size:20px;margin-bottom:10px}

nav{
  display:flex;
  justify-content:center;
  gap:15px;
  background:#140020;
  padding:10px;
}
nav button{
  border:2px solid #00f7ff;
  background:none;
  color:#fff;
  padding:10px 18px;
  border-radius:25px;
  cursor:pointer;
}
nav button:hover{background:#00f7ff;color:#000}

.section{display:none;padding:20px}
.section.active{display:block}

/* --- –º–æ–¥–∞–ª–∫–∏ --- */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.modal .box{
  background:#1b0030;
  padding:25px;
  border-radius:20px;
  width:300px;
  text-align:center;
}
.modal input{
  width:100%;
  margin-bottom:10px;
  padding:8px;
  border-radius:10px;
  border:none;
}
.modal button{
  margin-top:5px;
  padding:8px 14px;
  border-radius:15px;
  border:none;
  cursor:pointer;
}

/* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
#notify{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#00f7ff;
  color:#000;
  padding:15px;
  border-radius:15px;
  display:none;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  –ë–µ–∫–∞ –¥–µ–ø–∞–µ—Ç ‚Äî –∏ —Ç—ã –¥–µ–ø–∞–π!
  <br>
  <button onclick="openAuth()">üë§ –í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
</header>

<div id="balance">–ë–∞–ª–∞–Ω—Å: <span id="coins">0</span> CC</div>

<nav>
  <button onclick="show('cases')">–ö–µ–π—Å—ã</button>
  <button onclick="show('inventory')">–ú–æ–∏ –≥–µ—Ä–æ–∏</button>
  <button onclick="window.open('https://t.me/KosmosHardoxxx','_blank')">–¢–µ—Ö.–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
</nav>

<div id="cases" class="section active">
  <p style="text-align:center">üéÅ –ö–µ–π—Å—ã –±—É–¥—É—Ç —Ç—É—Ç (–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–≤–æ–π —Å—Ç–∞—Ä—ã–π –∫–æ–¥)</p>
</div>

<div id="inventory" class="section">
  <p style="text-align:center">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞</p>
</div>

<!-- –ê–ö–ö–ê–£–ù–¢ -->
<div id="auth" class="modal">
  <div class="box">
    <h3>üë§ –ê–∫–∫–∞—É–Ω—Ç</h3>
    <input id="nick" placeholder="–ù–∏–∫">
    <input id="pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="auth()">–í–æ–π—Ç–∏ / –°–æ–∑–¥–∞—Ç—å</button>
    <button onclick="closeAuth()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<!-- –ê–î–ú–ò–ù -->
<div id="admin" class="modal">
  <div class="box">
    <h3>üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
    <input id="adminNick" placeholder="–ù–∏–∫ –∏–≥—Ä–æ–∫–∞">
    <input id="adminAmount" placeholder="–°–∫–æ–ª—å–∫–æ CC">
    <button onclick="giveCC()">–í—ã–¥–∞—Ç—å</button>
    <button onclick="closeAdmin()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<div id="notify"></div>

<script>
/* ---------------- –î–ê–ù–ù–´–ï ---------------- */
let coins = 1800;
let inventory = [];
let currentUser = localStorage.getItem("currentUser");
let users = JSON.parse(localStorage.getItem("users") || "{}");

/* ---------------- –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï ---------------- */
if(currentUser && users[currentUser]){
  coins = users[currentUser].coins;
  inventory = users[currentUser].inventory || [];
}

/* ---------------- –ë–ê–õ–ê–ù–° ---------------- */
function update(){
  document.getElementById("coins").innerText = coins;
  if(currentUser){
    users[currentUser].coins = coins;
    users[currentUser].inventory = inventory;
    localStorage.setItem("users",JSON.stringify(users));
  }
}
update();

/* ---------------- –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ---------------- */
function notify(text){
  const n=document.getElementById("notify");
  n.innerText=text;
  n.style.display="block";
  setTimeout(()=>n.style.display="none",4000);
}

/* ---------------- –ê–ö–ö–ê–£–ù–¢ ---------------- */
function openAuth(){document.getElementById("auth").style.display="flex"}
function closeAuth(){document.getElementById("auth").style.display="none"}

function auth(){
  const nick=nickInput.value.trim();
  const pass=passInput.value;
  if(!nick||!pass) return alert("–ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è");

  if(users[nick]){
    if(users[nick].pass!==pass) return alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å");
    coins = users[nick].coins;
    inventory = users[nick].inventory;
    notify("üéâ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω! +2000 CC");
  } else {
    users[nick]={pass,coins:2000,inventory:[],lastBonus:null};
    coins=2000;
    inventory=[];
    notify("üéÅ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! +2000 CC");
  }

  coins+=2000;
  currentUser=nick;
  localStorage.setItem("currentUser",nick);
  localStorage.setItem("users",JSON.stringify(users));
  update();
  closeAuth();
}

/* ---------------- –ï–ñ–ï–î–ù–ï–í–ù–´–ô –ë–û–ù–£–° ---------------- */
function moscowDate(){
  const n=new Date();
  return new Date(n.getTime()+n.getTimezoneOffset()*60000+3*3600000);
}
(function(){
  if(!currentUser) return;
  const now=moscowDate();
  const key=now.toDateString();
  if(now.getHours()>=5 && users[currentUser].lastBonus!==key){
    coins+=800;
    users[currentUser].lastBonus=key;
    notify("üåÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å: +800 CC");
    update();
  }
})();

/* ---------------- –ê–î–ú–ò–ù ---------------- */
document.addEventListener("keydown",e=>{
  if(e.ctrlKey && e.code==="KeyB"){
    document.getElementById("admin").style.display="flex";
  }
});
function closeAdmin(){document.getElementById("admin").style.display="none"}

function giveCC(){
  const nick=adminNick.value.trim();
  const amount=Number(adminAmount.value);
  if(!users[nick]) return alert("–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");
  if(amount<=0||isNaN(amount)) return alert("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞");

  users[nick].coins+=amount;
  localStorage.setItem("users",JSON.stringify(users));

  if(currentUser===nick){
    coins+=amount;
    update();
    notify(`üëë –î–∏—Ä–µ–∫—Ç–æ—Ä –≤—ã–¥–∞–ª —Ç–µ–±–µ ${amount} CC`);
  }

  alert(`‚úÖ ${nick} –ø–æ–ª—É—á–∏–ª ${amount} CC`);
  closeAdmin();
}

/* ---------------- –ù–ê–í–ò–ì–ê–¶–ò–Ø ---------------- */
function show(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
</script>

</body>
</html>
