<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Vegas_Kazik</title>

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;
  background:radial-gradient(circle at top,#3a005f,#000);
  color:#fff;
  text-align:center;
}
h1{color:#ff5cff}

nav button{
  background:#00eaff;
  color:#000;
  border:none;
  border-radius:12px;
  padding:8px 14px;
  margin:4px;
  cursor:pointer;
}

.case{
  display:inline-block;
  background:#222;
  padding:15px;
  border-radius:16px;
  margin:10px;
  width:160px;
}

.case span{font-size:32px}

#roll{
  width:90%;
  height:120px;
  margin:20px auto;
  border:3px solid #fff;
  overflow:hidden;
  position:relative;
  border-radius:15px;
  display:none;
}
#line{
  position:absolute;
  left:50%;
  top:0;
  width:4px;
  height:100%;
  background:red;
}
#items{
  display:flex;
  position:absolute;
  left:0;
  top:0;
  height:100%;
}

.rollItem{
  width:120px;
  margin:10px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
}

.item{
  display:inline-block;
  width:170px;
  margin:8px;
  padding:10px;
  border-radius:15px;
}

.blue{background:#3498db}
.epic{background:#9b59b6}
.mythic{background:#e67e22}
.legend{background:#f1c40f;color:#000}

.hidden{display:none}
</style>
</head>

<body>

<h1>üé∞ Vegas_Kazik</h1>
<div>
  –ë–∞–ª–∞–Ω—Å: <b id="cc"></b> CC |
  –ü—ã–ª—å: <b id="dust"></b>
</div>

<nav>
  <button onclick="show('cases')">–ö–µ–π—Å—ã</button>
  <button onclick="show('inv')">–ú–æ–∏ –≥–µ—Ä–æ–∏</button>
</nav>

<div id="cases">
  <div class="case"><span>üì¶</span><br>–ù–æ–≤–∏—á–æ–∫<br>100 CC<br><button onclick="openCase('starter')">–û—Ç–∫—Ä—ã—Ç—å</button></div>
  <div class="case"><span>üßä</span><br>–°—Ç–∞–Ω–¥–∞—Ä—Ç<br>300 CC<br><button onclick="openCase('standard')">–û—Ç–∫—Ä—ã—Ç—å</button></div>
  <div class="case"><span>üíé</span><br>–î—É–±–∞–π<br>600 CC<br><button onclick="openCase('dubai')">–û—Ç–∫—Ä—ã—Ç—å</button></div>
  <div class="case"><span>üå´Ô∏è</span><br>–ü—ã–ª—å–Ω—ã–π<br>5000 –ø—ã–ª–∏<br><button onclick="openCase('dusty')">–û—Ç–∫—Ä—ã—Ç—å</button></div>

  <div id="roll">
    <div id="line"></div>
    <div id="items"></div>
  </div>
</div>

<div id="inv" class="hidden"></div>

<script>
let cc = Number(localStorage.getItem("cc")) || 2000;
let dust = Number(localStorage.getItem("dust")) || 0;
let inv = JSON.parse(localStorage.getItem("inv")) || [];

const prices={
  starter:{cc:100},
  standard:{cc:300},
  dubai:{cc:600},
  dusty:{dust:5000}
};

const loot={
  starter:[
    {n:"–ë–ª–æ–∫–Ω–æ—Ç",r:"blue",p:230,d:230},
    {n:"–§–ª–µ—à–∫–∞",r:"blue",p:230,d:230},
    {n:"–®–∞–ø–∫–∞",r:"epic",p:370,d:370}
  ],
  standard:[
    {n:"–ú—ã—à–∫–∞",r:"blue",p:230,d:230},
    {n:"–ö—Ä–æ—Å—Å–æ–≤–æ–∫",r:"epic",p:370,d:370},
    {n:"–û—Å—Ç—Ä–æ–≤",r:"mythic",p:3500,d:780}
  ],
  dubai:[
    {n:"–û—á–∫–∏",r:"epic",p:370,d:370},
    {n:"–ö–≤–∞—Ä—Ç–∏—Ä–∞ –ë–∏—à–∫–µ–∫",r:"mythic",p:3500,d:780},
    {n:"–ó–æ–ª–æ—Ç–∞—è –º–µ–¥–∞–ª—å",r:"legend",p:11600,d:1300}
  ],
  dusty:[
    {n:"–ó–æ–ª–æ—Ç–∞—è —á–∞—à–∞",r:"legend",p:11600},
    {n:"–ó–æ–ª–æ—Ç–∞—è –º–µ–¥–∞–ª—å",r:"legend",p:11600},
    {n:"–ó–æ–ª–æ—Ç–∞—è –∫–µ–ø–∫–∞ –ë–µ–∫–∏",r:"legend",p:11600},
    {n:"–ó–æ–ª–æ—Ç–æ–π –∫–ª—ã–∫",r:"legend",p:11600},
    {n:"–ì–∞–ª—Å—Ç—É–∫ –ë–µ–∫–∏",r:"legend",p:11600},
    {n:"–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫—Ä–æ—Å—Å–æ–≤–æ–∫",r:"mythic",p:3500},
    {n:"–ö–Ω–∏–≥–∞ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ",r:"mythic",p:3500},
    {n:"–®–∞—É—Ä–º–∞",r:"mythic",p:3500},
    {n:"–ö—Ä–æ—Å—Å–æ–≤–æ–∫",r:"mythic",p:3500},
    {n:"–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ë–∏—à–∫–µ–∫–∞",r:"mythic",p:3500}
  ]
};

function save(){
  localStorage.setItem("cc",cc);
  localStorage.setItem("dust",dust);
  localStorage.setItem("inv",JSON.stringify(inv));
  document.getElementById("cc").innerText=cc;
  document.getElementById("dust").innerText=dust;
}

function show(id){
  document.getElementById("cases").classList.add("hidden");
  document.getElementById("inv").classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
  if(id==="inv") renderInv();
}

function openCase(type){
  let price=prices[type];
  if(price.cc && cc<price.cc) return alert("–ú–∞–ª–æ CC");
  if(price.dust && dust<price.dust) return alert("–ú–∞–ª–æ –ø—ã–ª–∏");

  if(price.cc) cc-=price.cc;
  if(price.dust) dust-=price.dust;

  let pool=loot[type];
  let win=pool[Math.floor(Math.random()*pool.length)];

  let roll=document.getElementById("roll");
  let items=document.getElementById("items");
  items.innerHTML="";
  roll.style.display="block";
  items.style.left="0px";
  items.style.transition="none";

  for(let i=0;i<20;i++){
    let it=pool[Math.floor(Math.random()*pool.length)];
    items.innerHTML+=`<div class="rollItem ${it.r}">${it.n}</div>`;
  }

  setTimeout(()=>{
    items.style.transition="left 3s ease";
    items.style.left="-1600px";
  },50);

  setTimeout(()=>{
    inv.push(win);
    save();
    roll.style.display="none";
    alert("üéâ –¢—ã –≤—ã–±–∏–ª: "+win.n);
  },3100);
}

function renderInv(){
  let d=document.getElementById("inv");
  d.innerHTML="";
  inv.forEach((it,i)=>{
    let e=document.createElement("div");
    e.className="item "+it.r;
    e.innerHTML=`<b>${it.n}</b><br>${it.p} CC<br>`;
    let s=document.createElement("button");
    s.innerText="–ü—Ä–æ–¥–∞—Ç—å";
    s.onclick=()=>{
      cc+=it.p;
      inv.splice(i,1);
      save();renderInv();
    };
    let dis=document.createElement("button");
    dis.innerText="–†–∞—Å–ø—ã–ª–∏—Ç—å";
    dis.onclick=()=>{
      dust+=it.d||0;
      inv.splice(i,1);
      save();renderInv();
    };
    e.appendChild(s);
    e.appendChild(dis);
    d.appendChild(e);
  });
}

save();
</script>
</body>
</html>
